---
title: "Tidy Transformations"
author: "Allison O'Connor"
date: "September 27, 2014"
output: html_document
---

This is a document to demonstrate how to transform messy data into Tidy Data.

First we load the libraries we need. 
```{r}
library(historydata)
library(tidyr)
library(dplyr)

```


Then we set the working directory and write the first transformation using the gather function.

```{r}

setwd("~/Documents/Clio3/rproject")
sarna <- read.csv("historydata/data-raw/sarna.csv", stringsAsFactors = FALSE)
sarna %>% 
    gather(type, numb, -year)
   
```

If we want to display only certain data, we can use the filter function.

```{r}
sarna <- read.csv("historydata/data-raw/sarna.csv", stringsAsFactors = FALSE)
sarna %>%
  gather(type, numb, -year) %>%
  filter(type == "estimate_low")

```
I tried to gather the information in the early-colleges.csv file, and exclude any entries where the college doesn't have an "original" name, but it still listed the blank value. When I Knit HTML, it displays even worse.


#```{r}
#colleges <- read.csv("historydata/data-raw/early-colleges.csv", stringsAsFactors = FALSE)
#colleges %>%
#  gather(characteristic, value, original_name:sponsorship, -college)
#```

Here we take population data, group it by year, then add up the population for all states by year and display the number of states in that year.

```{r}
pop <- read.csv("historydata/data-raw/nhgis0011_ts_state.csv", stringsAsFactors = FALSE)
pop %>%
  group_by(YEAR) %>%
  summarize(total_pop = sum(A00AA, na.rm = TRUE),
            number_states = n())

```

```{r}


```
